# 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
- 💕 可愛いタイマーアプリ 💕

### 1.2 プロジェクトの目的・背景
- 女性ユーザーが「可愛い！」と感じるタイマーアプリの開発
- 従来のシンプルなタイマーとは差別化した、視覚的に楽しいUI/UXの提供
- 日常使いしたくなるような愛らしいデザインでユーザーエクスペリエンスを向上

### 1.3 対象システム
- Webブラウザで動作するHTML5ベースのタイマーアプリケーション
- 単一ファイル（timer_app.html）で完結するスタンドアロンアプリ

### 1.4 スコープ
- カウントダウンタイマー機能の実装
- 可愛いデザインシステムの適用
- レスポンシブWebデザインでの提供
- 音響フィードバック機能

## 2. ステークホルダー

### 2.1 関係者
| 役割 | 氏名・組織 | 責任範囲 |
|------|------------|----------|
| プロダクトオーナー | 依頼者 | 要件定義・承認 |
| 開発者 | Claude Code | 設計・実装・テスト |
| エンドユーザー | 女性ターゲット層 | 実際の利用・フィードバック |

### 2.2 承認者
- プロダクトオーナー（依頼者）

## 3. 機能要件

### 3.1 主要機能
1. カウントダウンタイマー機能
2. 時間設定機能（分・秒指定）
3. タイマー制御機能（スタート・ストップ・リセット）
4. 可愛いビジュアルデザイン
5. 音響通知機能

### 3.2 詳細機能仕様

#### 3.2.1 タイマー設定機能
- **概要**: ユーザーが任意の時間（分・秒）を設定できる機能
- **入力**: 分（0-99）、秒（0-59）の数値入力
- **処理**: 入力値の検証、総秒数への変換、表示更新
- **出力**: MM:SS形式でのタイマー表示更新
- **制約条件**: 秒は59秒まで、分は99分まで、負の値は不可

#### 3.2.2 カウントダウン実行機能
- **概要**: 設定された時間からカウントダウンを実行する機能
- **入力**: スタート・ストップ・リセットボタンの操作
- **処理**: 1秒間隔でのカウントダウン、0秒到達時の自動停止
- **出力**: リアルタイムでの残り時間表示、ボタン状態の変更
- **制約条件**: 同時に複数のタイマーは実行不可

#### 3.2.3 ビジュアルフィードバック機能
- **概要**: タイマー状態に応じた視覚的フィードバックを提供
- **入力**: タイマーの状態変化（開始・停止・終了）
- **処理**: CSS アニメーション、スタイル変更、エフェクト表示
- **出力**: パルスアニメーション、カラー変更、絵文字表示
- **制約条件**: ブラウザのCSS3サポートが必要

#### 3.2.4 音響通知機能
- **概要**: タイマー終了時に音響による通知を行う
- **入力**: タイマー終了イベント
- **処理**: Web Audio APIを使用した音の再生
- **出力**: 終了音の再生
- **制約条件**: ブラウザの音声再生許可が必要

## 4. 非機能要件

### 4.1 性能要件
- **応答時間**: ユーザーインタラクションに対して100ms以内の応答
- **処理能力**: 1秒間隔での精密なカウントダウン処理
- **同時ユーザー数**: 単一ユーザー対応（スタンドアロンアプリ）

### 4.2 可用性要件
- **稼働時間**: ブラウザがアクティブな間は24時間365日安定動作
- **可用性**: 99.9%（ブラウザクラッシュ、ネットワーク異常を除く）

### 4.3 拡張性要件
- 将来的なアラーム音のカスタマイズ機能
- 複数タイマーの同時実行機能
- プリセット時間の登録機能

### 4.4 保守性要件
- コードは可読性を重視し、コメントで仕様を明記
- CSSとJavaScriptはモジュラー設計で修正が容易
- デザイン変更時はCSS変数で一元管理

### 4.5 移植性要件
- モダンブラウザ（Chrome 90+, Firefox 88+, Safari 14+, Edge 90+）で動作
- モバイルブラウザ（iOS Safari, Android Chrome）でも完全動作
- タブレット・スマートフォン・デスクトップ対応

### 4.6 UI/UX品質要件（デザイン要件）
- **カラーパレット**: パステルピンク・ラベンダー系で女性向け配色
- **アニメーション**: 優しく上品な動き（激しい回転や点滅は避ける）
- **アイコン**: 絵文字を積極的に使用して可愛らしさを演出
- **フォント**: 日本語フォントで可読性を重視
- **レスポンシブ**: どのデバイスでも美しく表示
- **レイアウト**: 画面全体に60pxのパディング、犬画像下マージン0px、ステータス表示部左右パディング10px

## 5. システム環境

### 5.1 ハードウェア要件
- **サーバー**: 不要（スタンドアロンHTMLアプリ）
- **クライアント**: Webブラウザが動作するデバイス（PC・タブレット・スマートフォン）
- **ネットワーク**: 不要（ローカルファイルで動作）

### 5.2 ソフトウェア要件
- **OS**: ブラウザがサポートするOS（Windows, macOS, Linux, iOS, Android）
- **ミドルウェア**: 不要
- **データベース**: 不要（メモリ上でのデータ管理）
- **開発言語・フレームワーク**: 
  - HTML5
  - CSS3（アニメーション、グラデーション、フレックスボックス）
  - Vanilla JavaScript（ES6+）
  - Web Audio API（音響機能）

### 5.3 外部システム連携
- なし（完全に独立したアプリケーション）

## 6. データ要件

### 6.1 データ項目
| データ名 | 型 | 必須 | 説明 |
|----------|----|----- |------|
| totalSeconds | number | ○ | 設定されたタイマーの総秒数 |
| minutesInput | number | ○ | ユーザー入力の分数（0-99） |
| secondsInput | number | ○ | ユーザー入力の秒数（0-59） |
| isRunning | boolean | ○ | タイマーの実行状態 |
| timerInterval | object | ○ | setIntervalの参照（タイマー制御用） |

### 6.2 データ量
- 最小データ: 5つの変数のみ（約100バイト）
- 最大データ: 同上（データ量は一定）

### 6.3 データ保持期間
- セッションデータのみ（ブラウザ終了時に消去）
- 永続化は行わない（localStorage等不使用）

## 7. インターフェース要件

### 7.1 ユーザーインターフェース
- **メイン要素**:
  - 犬の画像（job02/img/bog.png）を画面上部に配置（下マージン0px）
  - タイマー表示部（MM:SS形式、装飾コンテナ付き）
  - 時間設定入力欄（分・秒の2つの数値入力）
  - 操作ボタン（スタート・ストップ・リセット）
  - ステータス表示部（現在の状態を絵文字付きで表示、左右パディング10px）
- **アクセシビリティ**: 
  - キーボード操作対応（Enterキーでスタート）
  - タッチデバイス対応
  - 色覚異常者でも視認しやすいコントラスト

### 7.2 システムインターフェース
- なし（外部システムとの連携は行わない）

### 7.3 ハードウェアインターフェース
- Web Audio API（音響出力用）
- デバイスのスピーカーまたはイヤホン

## 8. 制約条件

### 8.1 技術的制約
- ブラウザのJavaScript、CSS3サポートが必須
- Web Audio APIのサポート状況に依存（音響機能）
- シングルファイル構成のため、大規模な拡張には不向き

### 8.2 業務的制約
- インターネット接続が不要なスタンドアロンアプリとして設計
- 女性ユーザーをメインターゲットとしたデザイン方針

### 8.3 法的制約
- 特になし（個人用ツール、個人情報の収集なし）

### 8.4 予算制約
- 開発コスト: 無料（オープンソース技術のみ使用）
- 運用コスト: 無料（サーバー不要）

### 8.5 スケジュール制約
- 即座利用可能（開発完了済み）

## 9. 前提条件・仮定

- ユーザーはモダンブラウザを使用している
- job02/img/bog.png ファイルが同じディレクトリに存在する
- JavaScriptが有効になっている
- ユーザーは、可愛いデザインに対してポジティブな反応を示すことを仮定

## 10. リスクと対策

| リスク項目 | 影響度 | 発生確率 | 対策 |
|------------|--------|----------|------|
| ブラウザ非対応 | 中 | 低 | モダンブラウザのみサポート、フォールバック表示 |
| 音声再生不可 | 低 | 中 | 視覚的フィードバックで補完 |
| デザインの好みの個人差 | 低 | 高 | メインターゲットに焦点を当て、カスタマイズは将来課題 |
| 画像ファイルの納失 | 低 | 低 | onerrorイベントで非表示にする |

## 11. 受入基準

### 11.1 機能テスト基準
- タイマー設定：1分30秒を設定し、90秒で表示されること
- カウントダウン：5秒タイマーで正確に5秒後に終了すること
- ボタン操作：スタート・ストップ・リセットが正常動作すること
- 入力検証：秒数に60以上を入力した時に59に制限されること
- 終了処理：タイマー終了時にアニメーションとメッセージが表示されること

### 11.2 性能テスト基準
- ボタンクリックから100ms以内で反応すること
- カウントダウンの精度訤差が±50ms以内であること
- アニメーションが滞らかに表示されること（FPS 30以上）

### 11.3 互換性テスト基準
- Chrome, Firefox, Safari, Edge の最新バージョンで正常動作すること
- iPhone（iOS Safari）、Android（Chrome）で正常動作すること
- デスクトップ・タブレット・スマートフォンでレスポンシブ表示が正常であること

## 12. 付録

### 12.1 用語集
| 用語 | 定義 |
|------|------|
| カウントダウン | 設定された時間から0に向かって減っていく処理 |
| レスポンシブ | 画面サイズに応じてレイアウトが自動調整されるデザイン |
| パステルカラー | 彩度が低く、明るく柔らかい色彩 |
| Web Audio API | ブラウザ上で音声を操作するためのJavaScript API |
| スタンドアロン | 外部サーバーやネットワークに依存しない単体アプリ |

### 12.2 参考資料
- MDN Web Docs - Web Audio API: https://developer.mozilla.org/ja/docs/Web/API/Web_Audio_API
- CSS3 Animation and Transition: https://www.w3.org/TR/css-animations-1/
- HTML5 Specification: https://www.w3.org/TR/html52/
- 実装ファイル: timer_app.html

---

**文書情報**
- 作成日: 2024年12月13日
- 作成者: Claude Code
- 最終更新日: 2024年12月13日
- 承認日: 2024年12月13日
- 承認者: プロダクトオーナー
- バージョン: 1.2
- 実装ステータス: 完成・テスト済み

**変更履歴**
- v1.2 (2024年12月13日): ステータス表示部の左右パディング調整（25px→10px）
- v1.1 (2024年12月13日): UI調整（犬画像下マージン削除、body padding 60px化）
- v1.0 (2024年12月13日): 初版作成・実装完了